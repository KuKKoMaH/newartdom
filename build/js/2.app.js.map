{"version":3,"sources":["webpack:///./src/js/initGallery.js"],"names":["PhotoSwipe","require","PhotoSwipeUI_Default","$container","$","find","module","exports","config","slides","inited","$items","each","i","el","$el","index","data","push","src","attr","w","h","title","on","e","preventDefault","history","closeOnScroll","maxSpreadZoom","clickToCloseNonZoomable","pinchToClose","init","openGallery","sort","a","b"],"mappings":"6EAAA,gBAAIA,EAAaC,EAAQ,IACrBC,EAAuBD,EAAQ,IAE7BE,EAAaC,EAAE,SACRD,EAAWE,KAAK,IAC7BC,EAAOC,QAAU,SAAqBC,GACpC,IAAIC,EAAS,GACPC,EAAS,GACfF,EAAOG,OAAOC,MAAK,SAAWC,EAAGC,GAC/B,IAAIC,EAAMX,EAAEU,GACNE,EAAQD,EAAIE,KAAK,SAClBP,EAAOM,KACVP,EAAOS,KAAK,CACVC,IAAOJ,EAAIK,KAAK,QAChBC,EAAON,EAAIE,KAAK,SAChBK,EAAOP,EAAIE,KAAK,UAChBM,MAAOR,EAAIE,KAAK,WAChBD,MAAOA,IAETN,EAAOM,IAAS,GAElBD,EAAIS,GAAG,SAAS,SAAWC,GACzBA,EAAEC,iBAON,SAAsBb,GACN,IAAIb,EAChBG,EAAW,GACXD,EACAO,EACA,CACEO,MAAyBH,EACzBc,SAAyB,EACzBC,eAAyB,EACzBC,cAAyB,EAIzBC,yBAAyB,EACzBC,cAAyB,IAIrBC,OAxBNC,EAAajB,SAIjBP,EAASA,EAAOyB,MAAK,SAAEC,EAAGC,GAAL,OAAYD,EAAEnB,QAAUoB,EAAEpB,MAAQ,EAAImB,EAAEnB,MAAQoB,EAAEpB,MAAQ,GAAK,Q","file":"2.app.js","sourcesContent":["var PhotoSwipe = require('photoswipe');\nvar PhotoSwipeUI_Default = require('photoswipe/dist/photoswipe-ui-default.js');\n\nconst $container = $('.pswp');\nconst $img = $container.find('');\nmodule.exports = function initGalley( config ) {\n  var slides = [];\n  const inited = {};\n  config.$items.each(function ( i, el ) {\n    var $el = $(el);\n    const index = $el.data('index');\n    if (!inited[index]) {\n      slides.push({\n        src:   $el.attr('href'),\n        w:     $el.data('width'),\n        h:     $el.data('height'),\n        title: $el.data('caption'),\n        index: index,\n      });\n      inited[index] = true;\n    }\n    $el.on('click', function ( e ) {\n      e.preventDefault();\n      openGallery(+index);\n    });\n  });\n\n  slides = slides.sort(( a, b ) => a.index === b.index ? 0 : a.index > b.index ? 1 : -1);\n\n  function openGallery( i ) {\n    var gallery = new PhotoSwipe(\n      $container[0],\n      PhotoSwipeUI_Default,\n      slides,\n      {\n        index:                   i,\n        history:                 false,\n        closeOnScroll:           false,\n        maxSpreadZoom:           1,\n        // getDoubleTapZoom:        function ( isMouseClick, item ) {\n        //   return item.initialZoomLevel;\n        // },\n        clickToCloseNonZoomable: false,\n        pinchToClose:            false,\n      },\n    );\n\n    gallery.init();\n\n    // var isDown = false;\n    // var $container = $('.pswp__item');\n    // $container.on('mousedown.gallery', function ( e ) {\n    //   isDown = true;\n    //   $container.on('mousemove.gallery', function () {\n    //     isDown = false;\n    //   });\n    //\n    //   $container.on('mouseup.gallery', function ( e ) {\n    //     $container.off('mouseup.gallery mousemove.gallery');\n    //     if (isDown) {\n    //       gallery.next();\n    //       isDown = false;\n    //     }\n    //   });\n    // });\n    //\n    // gallery.listen('destroy', function () {\n    //   $container.off('mousedown.gallery');\n    // });\n  }\n};\n"],"sourceRoot":""}